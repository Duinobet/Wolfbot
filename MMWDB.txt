
resetall()
chance = math.random(9,60) --generate chance 
lsratio = 11  --max loss streak. ex. 2(multi)*8(lsratio)=16(max loss streak)
edge = 1
maxbet = balance*0.15

--nothing to change below. Everyhting should be calculated based on above

convertedMulti = string.format("%.4f", (100 - 1) / chance)
lossStreaks    = convertedMulti*lsratio
if lossStreaks % 1 ~= 0 then
    local int_part = string.match(lossStreaks, "^%d+")
  lossStreaks = tonumber(int_part) + 1
end
bethigh = (math.random(2) == 1) and true or false
increaseOnLoss      = (((100-edge)/((100-edge)-chance))-1)*100.00
increaseOnLossMulti = (100-edge)/((100-edge)-chance)
calculateBetSize    = balance * (increaseOnLoss/100) / ((1+(increaseOnLoss/100))^lossStreaks - 1)
basebet             = calculateBetSize-(calculateBetSize/200)
nextbet             = basebet

function dobet()
if previousbet>maxbet then
    log("••• | MAXBET STOP WIN END | •••")
    if win then
         bethigh = (math.random(2) == 1) and true or false 
         chance  = math.random(9,60)
        convertedMulti = string.format("%.4f", (100 - 1) / chance)
        lossStreaks    = convertedMulti*lsratio
        if lossStreaks % 1 ~= 0 then
            local int_part = string.match(lossStreaks, "^%d+")
            lossStreaks = tonumber(int_part) + 1
        end
        edge           = 1
        bethigh = (math.random(2) == 1) and true or false
        increaseOnLoss      = (((100-edge)/((100-edge)-chance))-1)*100.00
        increaseOnLossMulti = (100-edge)/((100-edge)-chance)
        calculateBetSize    = balance * (increaseOnLoss/100) / ((1+(increaseOnLoss/100))^lossStreaks - 1)
        basebet             = calculateBetSize-(calculateBetSize/200)
        nextbet             = basebet
    else 
        nextbet = previousbet*increaseOnLossMulti 
    end
end